# 主要功能

在保留算法的同时引入动态数组

提供Windows系统API渲染方式（xrPro） 和 终端转义（xrPlus）两种渲染方式的优化版本

# 1. xrPro的核心算法

## 引入概念：

### 1. 1 空字符

该像素字符的字符为空格，或者字符颜色和背景颜色相同，则称为**空字符**

空字符的特点：
- 可以保证字符颜色不会改变实际输出
- 处理时可以不在意字符颜色，只需要处理背景颜色
- 输出的时可以当作空格输出

### 1. 2 相差函数（pxdif）

判断两个像素之间是否是相差

如果两个像素都是空字符，则只需要比较背景颜色

否则，直接比对所有信息

### 1. 3 相似函数（pxsim）

判断两个像素之间是否是相似（用于一次性输出）

如果两个像素有一个是空字符，则只需要比较背景颜色（在这种情况下，不管空字符的字符颜色是什么，只要保证背景颜色是相同的，就可以只设置一次颜色，连在一起输出（空字符则直接当作空格输出））

否则，比对字符颜色和背景颜色

## 算法概述：

线性遍历二维数组

判断当前位置的像素是否与旧像素相差

如果是：
> 循环维护输出相似字符串，更新信息
> 
> 调用系统级别的API函数（可以缓存光标信息进行小幅度优化）
> 
> 输出字符串

否则，搜索下一个位置

# 2. xrPlus的核心算法

其实就是将输出的内容塞到一个字符串里，遍历结束后统一输出
